apparement tu te perd parfois voici ce qu'on a dejÃ  fait // /services/authService.js
import { apiRequest } from "../lib/api";

export const authService = {
    /** ðŸ”¹ CrÃ©er un compte utilisateur */
    async register(userData) {
        return apiRequest("/register", {
            method: "POST",
            body: JSON.stringify(userData),
        });
    },

    /** ðŸ”¹ Connexion classique (email + password) */
    async login(email, password) {
        const data = await apiRequest("/token", {
            method: "POST",
            body: JSON.stringify({ email, password }),
        });

        if (data?.access_token) {
            localStorage.setItem("token", data.access_token);
            localStorage.setItem("user", JSON.stringify(data.user || {}));
        }

        return data;
    },

    /** ðŸ”¹ Connexion via Google, Facebook, etc. */
    async socialLogin(provider, token) {
        return apiRequest("/social-login-token", {
            method: "POST",
            body: JSON.stringify({ provider, token }),
        });
    },

    /** ðŸ”¹ Connexion via OTP */
    async otpLogin(phone, otp) {
        return apiRequest("/otp-login", {
            method: "POST",
            body: JSON.stringify({ phone, otp }),
        });
    },

    /** ðŸ”¹ DÃ©connexion */
    async logout() {
        await apiRequest("/logout", { method: "POST" });
        localStorage.removeItem("token");
        localStorage.removeItem("user");
    },

    /** ðŸ”¹ Mot de passe oubliÃ© : envoi du code */
    async forgotPassword(email) {
        return apiRequest("/forget-password", {
            method: "POST",
            body: JSON.stringify({ email }),
        });
    },

    /** ðŸ”¹ VÃ©rification du code de rÃ©initialisation */
    async verifyForgetPasswordToken(email, token) {
        return apiRequest("/verify-forget-password-token", {
            method: "POST",
            body: JSON.stringify({ email, token }),
        });
    },

    /** ðŸ”¹ RÃ©initialisation du mot de passe */
    async resetPassword(email, token, newPassword) {
        return apiRequest("/reset-password", {
            method: "POST",
            body: JSON.stringify({ email, token, password: newPassword }),
        });
    },

    /** ðŸ”¹ Changer le mot de passe depuis un compte connectÃ© */
    async changePassword(currentPassword, newPassword) {
        return apiRequest("/change-password", {
            method: "POST",
            body: JSON.stringify({ currentPassword, newPassword }),
        });
    },

    /** ðŸ”¹ RÃ©cupÃ©ration du profil utilisateur connectÃ© */
    async me() {
        return apiRequest("/me", { method: "GET" });
    },

    /** ðŸ”¹ VÃ©rification dâ€™email (gÃ©nÃ©ralement redirigÃ© par ton NestJS) */
    async verifyEmail(token) {
        return apiRequest(`/verify-email?token=${token}`, { method: "GET" });
    },
};  maintenant on veux les utilisÃ© avec la gestion des differents cas possible de retour des appels